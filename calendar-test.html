<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendar Test - Cube Notary</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 20px; 
            background: #f5f5f5; 
        }
        .test-container { 
            max-width: 600px; 
            margin: 0 auto; 
            background: white; 
            padding: 20px; 
            border-radius: 8px; 
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .cal{
            display:grid; 
            grid-template-columns:repeat(7,1fr); 
            gap:.5rem; 
            margin: 20px 0;
        }
        .cal button{
            background:#111; 
            border:2px solid #222; 
            color:#fff; 
            padding:1rem .5rem; 
            font-size:1rem; 
            border-radius:8px; 
            cursor:pointer; 
            transition:box-shadow .18s, border-color .18s, background .2s; 
            box-shadow:0 0 0 transparent; 
            position:relative; 
            outline:none;
        }
        .cal button.available{
            border-color:#38bdf8; 
            box-shadow:0 1px 6px rgba(56,189,248,0.08);
        }
        .cal button.available:hover{
            background:#38bdf8; 
            color:#000; 
            box-shadow:0 2px 12px rgba(56,189,248,0.18);
        }
        .cal button.booked{
            border-color:#666; 
            background:#333; 
            color:#999; 
            cursor:not-allowed;
        }
        .day-header{
            text-align:center; 
            font-size:.8rem; 
            opacity:.7;
        }
        .test-result { 
            margin: 10px 0; 
            padding: 10px; 
            border-radius: 5px; 
            background: #d4edda; 
            color: #155724; 
            border: 1px solid #c3e6cb; 
        }
        .error { 
            background: #f8d7da; 
            color: #721c24; 
            border: 1px solid #f5c6cb; 
        }
        h1 { color: #333; }
        h3 { color: #555; }
        .instructions {
            background: #e7f3ff;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #38bdf8;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>🧪 Calendar Display Test - Cube Notary</h1>
        <p>This test verifies that the calendar can be generated properly using the same code as the live website.</p>
        
        <div class="test-result" id="test-status">Testing calendar generation...</div>
        
        <h3>📅 Calendar Preview:</h3>
        <div class="cal" id="calendar"></div>
        
        <div class="instructions">
            <p><strong>✅ Test Instructions:</strong></p>
            <ol>
                <li><strong>If you see a calendar above with dates</strong> - The fix worked!</li>
                <li><strong>Available dates</strong> should have blue borders and be clickable</li>
                <li><strong>Day headers</strong> should show Sun, Mon, Tue, Wed, Thu, Fri, Sat</li>
                <li><strong>Click any date</strong> to test the click functionality</li>
                <li>This matches what should appear on <strong>www.cubenotary.com</strong></li>
            </ol>
        </div>

        <div style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 5px;">
            <h4>🔧 Technical Details:</h4>
            <ul>
                <li><strong>DOMContentLoaded:</strong> ✅ Calendar waits for DOM to be ready</li>
                <li><strong>Error Handling:</strong> ✅ Checks if calendar element exists</li>
                <li><strong>Grid Layout:</strong> ✅ 7-column responsive grid</li>
                <li><strong>Event Listeners:</strong> ✅ Click handlers attached</li>
                <li><strong>Styling:</strong> ✅ Matches live website design</li>
            </ul>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const cal = document.getElementById('calendar');
            const status = document.getElementById('test-status');
            
            if (!cal) {
                status.textContent = '❌ Calendar element not found!';
                status.className = 'test-result error';
                return;
            }
            
            try {
                // Add day headers
                const monthNames = ["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];
                monthNames.forEach(d => {
                    const div = document.createElement('div');
                    div.className = 'day-header';
                    div.textContent = d;
                    cal.appendChild(div);
                });
                
                // Generate calendar dates
                const now = new Date();
                const year = now.getFullYear();
                const month = now.getMonth();
                const daysInMonth = new Date(year, month + 1, 0).getDate();
                const firstDay = new Date(year, month, 1).getDay();

                // Add empty cells for days before month starts
                for(let i = 0; i < firstDay; i++) {
                    cal.appendChild(document.createElement('div'));
                }
                
                // Add date buttons
                for(let d = 1; d <= daysInMonth; d++) {
                    const btn = document.createElement('button');
                    btn.textContent = d;
                    btn.className = "available";
                    btn.title = `Click to book ${month + 1}/${d}/${year}`;
                    btn.addEventListener('click', function() {
                        alert(`📅 You clicked on ${month + 1}/${d}/${year}\n\nThis would open the booking modal on the live site!`);
                    });
                    cal.appendChild(btn);
                }
                
                status.textContent = `✅ Calendar generated successfully! Showing ${monthNames[month]} ${year} with ${daysInMonth} days.`;
                
            } catch (error) {
                status.textContent = '❌ Error generating calendar: ' + error.message;
                status.className = 'test-result error';
                console.error('Calendar generation error:', error);
            }
        });
    </script>
</body>
</html>
