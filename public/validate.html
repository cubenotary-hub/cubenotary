<!DOCTYPE html>
<html>
<head>
    <title>Validation Results</title>
    <style>
        body { font-family: monospace; margin: 20px; }
        .pass { color: green; }
        .fail { color: red; }
        .info { color: blue; }
    </style>
</head>
<body>
    <h1>Cube Notary Website Validation</h1>
    <div id="results"></div>
    
    <script>
        async function validate() {
            const results = document.getElementById('results');
            results.innerHTML = '<div class="info">Loading main website for validation...</div>';
            
            try {
                // Fetch the main index.html file
                const response = await fetch('index.html');
                const html = await response.text();
                
                // Create a temporary DOM to parse the HTML
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');
                
                results.innerHTML = '';
                
                // Test 1: Check if main elements exist
                const tests = [
                    { name: 'Header H1', element: doc.querySelector('h1'), required: true },
                    { name: 'Calendar Container', element: doc.getElementById('calendar'), required: true },
                    { name: 'Booking Modal', element: doc.getElementById('bookModal'), required: true },
                    { name: 'Phone Link', element: doc.querySelector('a[href^="tel:"]'), required: true },
                    { name: 'SMS Link', element: doc.querySelector('a[href^="sms:"]'), required: true },
                    { name: 'Service Navigation', element: doc.querySelector('.main-service-nav'), required: true },
                    { name: 'Contact Buttons', element: doc.querySelector('.contact-btn-row'), required: true }
                ];
            
                tests.forEach(test => {
                    const div = document.createElement('div');
                    if (test.element) {
                        div.innerHTML = `<span class="pass">✅</span> ${test.name} - Found`;
                    } else {
                        div.innerHTML = `<span class="fail">❌</span> ${test.name} - Missing`;
                    }
                    results.appendChild(div);
                });
                
                // Test 2: Check CSS custom properties in the HTML
                const styleTag = doc.querySelector('style');
                const cssVars = ['--bg', '--card', '--accent', '--text'];
                cssVars.forEach(varName => {
                    const div = document.createElement('div');
                    if (styleTag && styleTag.textContent.includes(varName)) {
                        div.innerHTML = `<span class="pass">✅</span> CSS Variable ${varName} defined`;
                    } else {
                        div.innerHTML = `<span class="fail">❌</span> CSS Variable ${varName} missing`;
                    }
                    results.appendChild(div);
                });
                
                // Test 3: Check JavaScript functionality
                const calendar = doc.getElementById('calendar');
                if (calendar) {
                    const div = document.createElement('div');
                    div.innerHTML = `<span class="pass">✅</span> Calendar container found in HTML`;
                    results.appendChild(div);
                }
                
                // Test 4: Check form validation
                const modal = doc.getElementById('bookModal');
                if (modal) {
                    const inputs = modal.querySelectorAll('input[required], select[required]');
                    const div = document.createElement('div');
                    div.innerHTML = `<span class="pass">✅</span> Form has ${inputs.length} required fields`;
                    results.appendChild(div);
                }
                
                // Test 5: Check responsive design
                const viewport = doc.querySelector('meta[name="viewport"]');
                const div = document.createElement('div');
                if (viewport) {
                    div.innerHTML = `<span class="pass">✅</span> Viewport meta tag present`;
                } else {
                    div.innerHTML = `<span class="fail">❌</span> Viewport meta tag missing`;
                }
                results.appendChild(div);
                
                // Test 6: Check SEO elements
                const title = doc.querySelector('title');
                const description = doc.querySelector('meta[name="description"]');
                const structuredData = doc.querySelector('script[type="application/ld+json"]');
                
                [title, description, structuredData].forEach((element, index) => {
                    const names = ['Title', 'Meta Description', 'Structured Data'];
                    const div = document.createElement('div');
                    if (element) {
                        div.innerHTML = `<span class="pass">✅</span> ${names[index]} present`;
                    } else {
                        div.innerHTML = `<span class="fail">❌</span> ${names[index]} missing`;
                    }
                    results.appendChild(div);
                });
                
            } catch (error) {
                results.innerHTML = `<div class="fail">❌ Error loading index.html: ${error.message}</div>`;
            }
        }
        
        // Run validation when page loads
        window.onload = validate;
    </script>
</body>
</html>
